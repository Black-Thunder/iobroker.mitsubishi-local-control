{
  "version": 3,
  "sources": ["../../../src/lib/iobroker/stateConfig.ts"],
  "sourcesContent": ["// -----------------------------\n// State Mapping Config\n\nimport {\n\tAutoMode,\n\tFanSpeed,\n\tOperationMode,\n\tRemoteLock,\n\tVaneHorizontalDirection,\n\tVaneVerticalDirection,\n} from \"../mitsubishi/types\";\nimport { enumToStates } from \"./utils\";\n\n// -----------------------------\ninterface StateConfig {\n\ttype: ioBroker.CommonType;\n\trole: string;\n\tname?: string;\n\tdesc?: string;\n\tunit?: string;\n\tread?: boolean;\n\twrite?: boolean;\n\tmin?: number;\n\tmax?: number;\n\tstates?: Record<string, string>;\n}\n\nconst STATE_MAP: Record<string, (_value: any) => StateConfig> = {\n\tpower: _v => ({\n\t\ttype: \"boolean\",\n\t\trole: \"switch.power\",\n\t\tname: \"Power\",\n\t\tdesc: \"Turns the device on or off\",\n\t\twrite: true,\n\t}),\n\tpowerSaving: _v => ({\n\t\ttype: \"boolean\",\n\t\trole: \"switch\",\n\t\tname: \"Power Saving\",\n\t\tdesc: \"Enables or disables power saving mode\",\n\t\twrite: true,\n\t}),\n\ttargetTemperature: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"level.temperature\",\n\t\tname: \"Target Temperature\",\n\t\tdesc: \"Sets the target temperature of the device\",\n\t\twrite: true,\n\t\tmin: 16,\n\t\tmax: 31,\n\t\tunit: \"\u00B0C\",\n\t}),\n\toperationMode: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"level.mode.airconditioner\",\n\t\tname: \"Operation Mode\",\n\t\tdesc: \"Sets the operation mode of the device\",\n\t\twrite: true,\n\t\tstates: enumToStates(OperationMode),\n\t}),\n\tfanSpeed: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"level.mode.fan\",\n\t\tname: \"Fan Speed\",\n\t\tdesc: \"Sets the fan speed when in manual mode\",\n\t\twrite: true,\n\t\tstates: enumToStates(FanSpeed),\n\t}),\n\tvaneVerticalDirection: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"level\",\n\t\tname: \"Vane Vertical Direction\",\n\t\tdesc: \"Sets the vertical direction of the vane\",\n\t\twrite: true,\n\t\tstates: enumToStates(VaneVerticalDirection),\n\t}),\n\tvaneHorizontalDirection: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"level\",\n\t\tname: \"Vane Horizontal Direction\",\n\t\tdesc: \"Sets the horizontal direction of the vane\",\n\t\twrite: true,\n\t\tstates: enumToStates(VaneHorizontalDirection),\n\t}),\n\tremoteLock: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"switch.mode\",\n\t\tname: \"Remote Lock\",\n\t\tdesc: \"Sets the remote lock state of the device\",\n\t\twrite: true,\n\t\tstates: enumToStates(RemoteLock),\n\t}),\n\ttriggerBuzzer: _v => ({\n\t\ttype: \"boolean\",\n\t\trole: \"button\",\n\t\tname: \"Trigger buzzer\",\n\t\tdesc: \"Triggers the device buzzer\",\n\t\twrite: true,\n\t\tread: false,\n\t}),\n\tdehumidifierLevel: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"level.humidity\",\n\t\tname: \"Dehumidifier Level\",\n\t\tdesc: \"Sets the dehumidifier level\",\n\t\twrite: true,\n\t\tmin: 0,\n\t\tmax: 100,\n\t\tunit: \"%\",\n\t}),\n\tautoMode: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"mode\",\n\t\tname: \"Auto Mode\",\n\t\tdesc: \"Current auto mode of the device\",\n\t\tstates: enumToStates(AutoMode),\n\t}),\n\terrorCode: _v => ({\n\t\ttype: \"number\",\n\t\trole: \"value\",\n\t\tname: \"Error Code\",\n\t\tdesc: \"Current error code of the device\",\n\t\tstates: { 32768: \"No error\" },\n\t}),\n};\n\n// Fallback for unknown states\nexport function guessStateConfig(key: string, value: any): StateConfig {\n\tconst keyLower = key.toLowerCase();\n\tconst config: StateConfig = { type: \"string\", role: \"text\", name: key, read: true };\n\tconfig.desc = String(key).charAt(0).toUpperCase() + String(key).slice(1);\n\n\tif (typeof value === \"boolean\") {\n\t\tconfig.type = \"boolean\";\n\t\tconfig.role = \"indicator\";\n\t} else if (typeof value === \"number\") {\n\t\tconfig.type = \"number\";\n\t\tconfig.role = \"value\";\n\n\t\tif (keyLower.includes(\"temperature\")) {\n\t\t\tconfig.role = \"value.temperature\";\n\t\t\tconfig.unit = \"\u00B0C\";\n\t\t} else if (keyLower.includes(\"power\") || keyLower.includes(\"energy\")) {\n\t\t\tconfig.role = \"value.power\";\n\n\t\t\tif (keyLower.includes(\"energy\")) {\n\t\t\t\tconfig.unit = \"kWh\";\n\t\t\t}\n\t\t}\n\t} else if (typeof value === \"string\") {\n\t\tconfig.type = \"string\";\n\t\tconfig.role = \"text\";\n\t}\n\n\treturn config;\n}\n\nexport { STATE_MAP };\nexport type { StateConfig };\n"],
  "mappings": "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",
  "names": []
}
