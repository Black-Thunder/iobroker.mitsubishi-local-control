{
  "version": 3,
  "sources": ["../../../src/lib/iobroker/utils.ts"],
  "sourcesContent": ["import type { Device } from \"../mitsubishi/device\";\n\nexport function getMacFromStateId(id: string): string | null {\n\tconst parts = id.split(\".\");\n\tconst idx = parts.indexOf(\"devices\");\n\n\tif (idx >= 0 && parts.length > idx + 1) {\n\t\treturn parts[idx + 1]; // das ist die MAC\n\t}\n\n\treturn null;\n}\n\nexport function isValidIPv4(ip: string): boolean {\n\t// Basic structural check (4 octets, only digits)\n\tconst parts = ip.split(\".\");\n\tif (parts.length !== 4) {\n\t\treturn false;\n\t}\n\n\tfor (const part of parts) {\n\t\t// Reject empty, non-numeric or leading zeros like \"01\"\n\t\tif (!/^\\d{1,3}$/.test(part)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst num = Number(part);\n\t\tif (num < 0 || num > 255) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function enumToStates(enumObj: any): Record<string, string> {\n\tconst res: Record<string, string> = {};\n\tfor (const key of Object.keys(enumObj)) {\n\t\tconst v = enumObj[key];\n\t\tif (typeof v === \"number\") {\n\t\t\tres[v] = enumName(enumObj, v) ?? key;\n\t\t}\n\t}\n\treturn res;\n}\n\nexport function isEnumValue(enumObj: any, value: number): boolean {\n\treturn Object.values(enumObj).includes(value);\n}\n\nexport function enumName(enumObj: any, value: number): string {\n\treturn enumObj[value] ?? value.toString();\n}\n\nexport function getDeviceByMac(adapter: any, mac: string): Device | undefined {\n\tconst noColMac = String(mac)\n\t\t.toLowerCase()\n\t\t.replace(/[^0-9a-f]/g, \"\");\n\tif (noColMac.length !== 12) {\n\t\treturn undefined;\n\t}\n\n\tconst colMac = noColMac.match(/.{1,2}/g)!.join(\":\");\n\n\treturn adapter.devices.find((c: Device) => c.controller.parsedDeviceState?.mac === colMac);\n}\n\nexport async function setAdapterConnectionState(adapter: any, isConnected: boolean): Promise<void> {\n\tawait adapter.setStateChangedAsync(\"info.connection\", isConnected, true);\n\tadapter.setForeignState(`system.adapter.${adapter.namespace}.connected`, isConnected, true);\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,SAAS,kBAAkB,IAA2B;AAC5D,QAAM,QAAQ,GAAG,MAAM,GAAG;AAC1B,QAAM,MAAM,MAAM,QAAQ,SAAS;AAEnC,MAAI,OAAO,KAAK,MAAM,SAAS,MAAM,GAAG;AACvC,WAAO,MAAM,MAAM,CAAC;AAAA,EACrB;AAEA,SAAO;AACR;AAEO,SAAS,YAAY,IAAqB;AAEhD,QAAM,QAAQ,GAAG,MAAM,GAAG;AAC1B,MAAI,MAAM,WAAW,GAAG;AACvB,WAAO;AAAA,EACR;AAEA,aAAW,QAAQ,OAAO;AAEzB,QAAI,CAAC,YAAY,KAAK,IAAI,GAAG;AAC5B,aAAO;AAAA,IACR;AAEA,UAAM,MAAM,OAAO,IAAI;AACvB,QAAI,MAAM,KAAK,MAAM,KAAK;AACzB,aAAO;AAAA,IACR;AAAA,EACD;AAEA,SAAO;AACR;AAEO,SAAS,aAAa,SAAsC;AAnCnE;AAoCC,QAAM,MAA8B,CAAC;AACrC,aAAW,OAAO,OAAO,KAAK,OAAO,GAAG;AACvC,UAAM,IAAI,QAAQ,GAAG;AACrB,QAAI,OAAO,MAAM,UAAU;AAC1B,UAAI,CAAC,KAAI,cAAS,SAAS,CAAC,MAAnB,YAAwB;AAAA,IAClC;AAAA,EACD;AACA,SAAO;AACR;AAEO,SAAS,YAAY,SAAc,OAAwB;AACjE,SAAO,OAAO,OAAO,OAAO,EAAE,SAAS,KAAK;AAC7C;AAEO,SAAS,SAAS,SAAc,OAAuB;AAlD9D;AAmDC,UAAO,aAAQ,KAAK,MAAb,YAAkB,MAAM,SAAS;AACzC;AAEO,SAAS,eAAe,SAAc,KAAiC;AAC7E,QAAM,WAAW,OAAO,GAAG,EACzB,YAAY,EACZ,QAAQ,cAAc,EAAE;AAC1B,MAAI,SAAS,WAAW,IAAI;AAC3B,WAAO;AAAA,EACR;AAEA,QAAM,SAAS,SAAS,MAAM,SAAS,EAAG,KAAK,GAAG;AAElD,SAAO,QAAQ,QAAQ,KAAK,CAAC,MAAW;AAhEzC;AAgE4C,oBAAE,WAAW,sBAAb,mBAAgC,SAAQ;AAAA,GAAM;AAC1F;AAEA,eAAsB,0BAA0B,SAAc,aAAqC;AAClG,QAAM,QAAQ,qBAAqB,mBAAmB,aAAa,IAAI;AACvE,UAAQ,gBAAgB,kBAAkB,QAAQ,SAAS,cAAc,aAAa,IAAI;AAC3F;",
  "names": []
}
