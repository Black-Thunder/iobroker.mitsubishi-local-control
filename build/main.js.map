{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["// The adapter-core module gives you access to the core ioBroker functions\n// you need to create an adapter\nimport * as utils from \"@iobroker/adapter-core\";\n\nimport { getMacFromStateId } from \"./lib/mitsubishi/utils\";\n\nimport { MitsubishiController } from \"./lib/mitsubishi/mitsubishiController\";\nimport type { ParsedDeviceState } from \"./lib/mitsubishi/types\";\nimport {\n\tAutoMode,\n\tDriveMode,\n\tHorizontalWindDirection,\n\tPowerOnOff,\n\tRemoteLock,\n\tVerticalWindDirection,\n\tWindSpeed,\n} from \"./lib/mitsubishi/types\";\n\ninterface Device {\n\tname: string;\n\tip: string;\n\tcontroller: MitsubishiController;\n\tpollingJob?: NodeJS.Timeout;\n}\n\nclass MitsubishiLocalControl extends utils.Adapter {\n\tprivate devices: Device[] = [];\n\n\tpublic constructor(options: Partial<utils.AdapterOptions> = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tname: \"mitsubishi-local-control\",\n\t\t});\n\t\tthis.on(\"ready\", this.onReady.bind(this));\n\t\tthis.on(\"stateChange\", this.onStateChange.bind(this));\n\t\tthis.on(\"unload\", this.onUnload.bind(this));\n\t}\n\n\t/**\n\t * Is called when databases are connected and adapter received configuration.\n\t */\n\tprivate async onReady(): Promise<void> {\n\t\tawait this.setAdapterConnectionState(false);\n\n\t\tif (!this.validateConfig()) {\n\t\t\tthis.log.error(\"Invalid configuration detected. Stopping adapter.\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.log.info(`Configuring ${this.config.devices.length} device(s)...`);\n\n\t\tthis.devices = (this.config.devices ?? []).map(c => ({\n\t\t\t...c,\n\t\t\tcontroller: MitsubishiController.create(c.ip, this.log),\n\t\t}));\n\n\t\ttry {\n\t\t\tawait this.startPolling();\n\t\t\tawait this.setAdapterConnectionState(true);\n\t\t} catch (err: any) {\n\t\t\tthis.log.error(`Error while starting polling: ${err}`);\n\t\t\tawait this.setAdapterConnectionState(false);\n\t\t}\n\t}\n\n\t/**\n\t * Is called when adapter shuts down - callback has to be called under any circumstances!\n\t *\n\t * @param callback - Callback function\n\t */\n\tprivate onUnload(callback: () => void): void {\n\t\ttry {\n\t\t\tthis.stopPolling();\n\t\t\tcallback();\n\t\t} catch (error) {\n\t\t\tthis.log.error(`Error during unloading: ${(error as Error).message}`);\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Is called if a subscribed state changes\n\t *\n\t * @param id - State ID\n\t * @param state - State object\n\t */\n\tprivate async onStateChange(id: string, state: ioBroker.State | null | undefined): Promise<void> {\n\t\tif (state) {\n\t\t\t// The state was changed\n\t\t\tthis.log.silly(`state ${id} changed: ${state.val} (ack = ${state.ack})`);\n\n\t\t\tif (state.ack === false) {\n\t\t\t\t// This is a command from the user (e.g., from the UI or other adapter)\n\t\t\t\t// and should be processed by the adapter\n\t\t\t\tthis.log.debug(`User command received for ${id}: ${state.val}`);\n\n\t\t\t\tconst mac = getMacFromStateId(id);\n\t\t\t\tif (!mac) {\n\t\t\t\t\tthis.log.error(`Unable to extract MAC address from state ID: ${id}`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst device = this.getDeviceByMac(mac);\n\t\t\t\tif (!device) {\n\t\t\t\t\tthis.log.error(`No device found for MAC ${mac}`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.log.debug(`Command on ${id} \u2192 forwarding to device ${device.name} (${mac})`);\n\n\t\t\t\ttry {\n\t\t\t\t\tif (id.endsWith(\"powerOnOff\")) {\n\t\t\t\t\t\tawait device.controller.setPower(state.val as boolean);\n\t\t\t\t\t} else if (id.endsWith(\"fineTemperature\")) {\n\t\t\t\t\t\tawait device.controller.setTemperature(state.val as number);\n\t\t\t\t\t} else if (id.endsWith(\"driveMode\")) {\n\t\t\t\t\t\tawait device.controller.setMode(state.val as number);\n\t\t\t\t\t} else if (id.endsWith(\"windSpeed\")) {\n\t\t\t\t\t\tawait device.controller.setFanSpeed(state.val as number);\n\t\t\t\t\t} else if (id.endsWith(\"verticalWindDirection\")) {\n\t\t\t\t\t\tawait device.controller.setVerticalVane(state.val as number);\n\t\t\t\t\t} else if (id.endsWith(\"horizontalWindDirection\")) {\n\t\t\t\t\t\tawait device.controller.setHorizontalVane(state.val as number);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.log.warn(`Unhandled command for state ${id}`);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} catch (err: any) {\n\t\t\t\t\tthis.log.error(`Error executing command for ${mac}: ${err}`);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// The object was deleted or the state value has expired\n\t\t\tthis.log.silly(`state ${id} deleted`);\n\t\t}\n\t}\n\n\tprivate validateConfig(): boolean {\n\t\tthis.log.debug(\"Checking adapter settings...\");\n\n\t\t// --- Validate polling interval ---\n\t\tif (!this.config.pollingInterval || this.config.pollingInterval < 15) {\n\t\t\tthis.config.pollingInterval = 15;\n\t\t\tthis.log.warn(\"Polling interval can't be set lower than 15 seconds. Now set to 15 seconds.\");\n\t\t}\n\n\t\t// --- Validate devices array existence ---\n\t\tconst devices = this.config.devices;\n\t\tif (!devices || !Array.isArray(devices)) {\n\t\t\tthis.log.error(\"No valid devices configured. Please add at least one device.\");\n\t\t\treturn false;\n\t\t}\n\n\t\t// --- Filter invalid devices ---\n\t\tconst cleanedDevices = devices.filter(d => d?.name?.trim() && d?.ip?.trim() && this.isValidIPv4(d.ip.trim()));\n\n\t\tif (cleanedDevices.length !== devices.length) {\n\t\t\tthis.log.warn(\"Some device entries were invalid and have been removed.\");\n\t\t}\n\n\t\t// Update config\n\t\tthis.config.devices = cleanedDevices;\n\n\t\t// --- Check if at least one valid device remains ---\n\t\tif (this.config.devices.length === 0) {\n\t\t\tthis.log.error(\"No valid devices configured. Please add at least one device.\");\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate isValidIPv4(ip: string): boolean {\n\t\t// Basic structural check (4 octets, only digits)\n\t\tconst parts = ip.split(\".\");\n\t\tif (parts.length !== 4) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (const part of parts) {\n\t\t\t// Reject empty, non-numeric or leading zeros like \"01\"\n\t\t\tif (!/^\\d{1,3}$/.test(part)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst num = Number(part);\n\t\t\tif (num < 0 || num > 255) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate async setAdapterConnectionState(isConnected: boolean): Promise<void> {\n\t\tawait this.setStateChangedAsync(\"info.connection\", isConnected, true);\n\t\tthis.setForeignState(`system.adapter.${this.namespace}.connected`, isConnected, true);\n\t}\n\n\tprivate getDeviceByMac(mac: string): Device | undefined {\n\t\tconst noColMac = String(mac)\n\t\t\t.toLowerCase()\n\t\t\t.replace(/[^0-9a-f]/g, \"\");\n\t\tif (noColMac.length !== 12) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst colMac = noColMac.match(/.{1,2}/g)!.join(\":\");\n\n\t\treturn this.devices.find(c => c.controller.parsedDeviceState?.mac === colMac);\n\t}\n\n\tprivate async startPolling(): Promise<void> {\n\t\tconst interval = this.config.pollingInterval * 1000;\n\n\t\tfor (const device of this.devices) {\n\t\t\tconst poll = async (): Promise<void> => {\n\t\t\t\ttry {\n\t\t\t\t\tthis.log.debug(`Polling ${device.name} (${device.ip}) ...`);\n\n\t\t\t\t\tconst parsed = await device.controller.fetchStatus();\n\n\t\t\t\t\tawait this.updateDeviceStates(this, parsed, device.name);\n\t\t\t\t} catch (err: any) {\n\t\t\t\t\tthis.log.error(`Polling error for ${device.name}: ${err}`);\n\t\t\t\t} finally {\n\t\t\t\t\tdevice.pollingJob = setTimeout(poll, interval);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tawait poll();\n\t\t}\n\n\t\tthis.log.info(`Started polling all devices every ${this.config.pollingInterval} seconds.`);\n\t}\n\n\tprivate stopPolling(): void {\n\t\tthis.devices.forEach(c => {\n\t\t\tif (c.pollingJob) {\n\t\t\t\tclearTimeout(c.pollingJob);\n\t\t\t\tthis.log.debug(`Cleared polling timer for device ${c.name}.`);\n\t\t\t}\n\t\t\tc.controller.cleanupController();\n\t\t});\n\t}\n\n\tprivate enumToStates(enumObj: any): Record<string, string> {\n\t\tconst res: Record<string, string> = {};\n\t\tfor (const key of Object.keys(enumObj)) {\n\t\t\tconst v = enumObj[key];\n\t\t\tif (typeof v === \"number\") {\n\t\t\t\tres[v] = this.enumName(enumObj, v) ?? key;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\n\tprivate isEnumValue(enumObj: any, value: number): boolean {\n\t\treturn Object.values(enumObj).includes(value);\n\t}\n\n\tprivate enumName(enumObj: any, value: number): string {\n\t\treturn enumObj[value] ?? value.toString();\n\t}\n\n\t/**\n\t * Aktualisiert die ioBroker-Objekte f\u00FCr ein ParsedDeviceState\n\t */\n\tasync writeRecursive(adapter: MitsubishiLocalControl, parentId: string, obj: any): Promise<void> {\n\t\tfor (const key of Object.keys(obj)) {\n\t\t\tconst value = obj[key];\n\t\t\tconst id = `${parentId}.${key}`;\n\n\t\t\tif (value && typeof value === \"object\" && !(value instanceof Date) && !Buffer.isBuffer(value)) {\n\t\t\t\t// Channel\n\t\t\t\tawait adapter.setObjectNotExistsAsync(id, {\n\t\t\t\t\ttype: \"channel\",\n\t\t\t\t\tcommon: { name: key },\n\t\t\t\t\tnative: {},\n\t\t\t\t});\n\t\t\t\tawait this.writeRecursive(adapter, id, value);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet type: ioBroker.CommonType = \"string\";\n\t\t\tlet role = \"state\";\n\t\t\tlet unit: string | undefined = undefined;\n\t\t\tlet states: Record<string, string> | undefined;\n\t\t\tlet write = false;\n\n\t\t\t// Enum-Mapping\n\t\t\tswitch (key) {\n\t\t\t\tcase \"powerOnOff\":\n\t\t\t\t\tif (this.isEnumValue(PowerOnOff, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(PowerOnOff);\n\t\t\t\t\t\trole = \"switch.power\";\n\t\t\t\t\t\twrite = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"driveMode\":\n\t\t\t\t\tif (this.isEnumValue(DriveMode, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(DriveMode);\n\t\t\t\t\t\trole = \"mode\";\n\t\t\t\t\t\twrite = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"windSpeed\":\n\t\t\t\t\tif (this.isEnumValue(WindSpeed, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(WindSpeed);\n\t\t\t\t\t\trole = \"level\";\n\t\t\t\t\t\twrite = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"verticalWindDirection\":\n\t\t\t\t\tif (this.isEnumValue(VerticalWindDirection, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(VerticalWindDirection);\n\t\t\t\t\t\trole = \"level\";\n\t\t\t\t\t\twrite = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"horizontalWindDirection\":\n\t\t\t\t\tif (this.isEnumValue(HorizontalWindDirection, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(HorizontalWindDirection);\n\t\t\t\t\t\trole = \"level\";\n\t\t\t\t\t\twrite = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"autoMode\":\n\t\t\t\t\tif (this.isEnumValue(AutoMode, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(AutoMode);\n\t\t\t\t\t\trole = \"mode\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"remoteLock\":\n\t\t\t\t\tif (this.isEnumValue(RemoteLock, value)) {\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tstates = this.enumToStates(RemoteLock);\n\t\t\t\t\t\trole = \"state\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// Standardwerte bestimmen\n\t\t\t\t\tif (typeof value === \"number\") {\n\t\t\t\t\t\tconst keyLower = key.toLowerCase();\n\t\t\t\t\t\ttype = \"number\";\n\n\t\t\t\t\t\tif (keyLower.includes(\"temperature\")) {\n\t\t\t\t\t\t\trole = \"value.temperature\";\n\t\t\t\t\t\t\tunit = \"\u00B0C\";\n\t\t\t\t\t\t\tif (keyLower.includes(\"finetemperature\")) {\n\t\t\t\t\t\t\t\twrite = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (keyLower.includes(\"power\") || keyLower.includes(\"energy\")) {\n\t\t\t\t\t\t\trole = \"value.power\";\n\n\t\t\t\t\t\t\tif (keyLower.includes(\"energy\")) {\n\t\t\t\t\t\t\t\tunit = \"kWh\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trole = \"value\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof value === \"boolean\") {\n\t\t\t\t\t\ttype = \"boolean\";\n\t\t\t\t\t\trole = \"indicator\";\n\t\t\t\t\t}\n\t\t\t}\n\n\t\t\t// State Objekt erstellen\n\t\t\tawait adapter.setObjectNotExistsAsync(id, {\n\t\t\t\ttype: \"state\",\n\t\t\t\tcommon: {\n\t\t\t\t\tname: key,\n\t\t\t\t\ttype,\n\t\t\t\t\trole,\n\t\t\t\t\tunit,\n\t\t\t\t\tread: true,\n\t\t\t\t\twrite: write,\n\t\t\t\t\t...(states ? { states } : {}),\n\t\t\t\t},\n\t\t\t\tnative: {},\n\t\t\t});\n\n\t\t\tif (write) {\n\t\t\t\tthis.subscribeStates(id);\n\t\t\t}\n\n\t\t\t// State setzen\n\t\t\tawait adapter.setState(id, { val: value, ack: true });\n\t\t}\n\t}\n\n\tasync updateDeviceStates(\n\t\tadapter: MitsubishiLocalControl,\n\t\tparsedState: ParsedDeviceState,\n\t\tdeviceName: string,\n\t): Promise<void> {\n\t\tconst deviceId = `devices.${parsedState.mac.replace(/:/g, \"\")}`;\n\n\t\tawait adapter.setObjectNotExistsAsync(`${deviceId}`, {\n\t\t\ttype: \"channel\",\n\t\t\tcommon: { name: `${deviceName}` },\n\t\t\tnative: {},\n\t\t});\n\n\t\tawait this.writeRecursive(adapter, `${deviceId}`, parsedState);\n\t}\n}\n\nif (require.main !== module) {\n\t// Export the constructor in compact mode\n\tmodule.exports = (options: Partial<utils.AdapterOptions> | undefined) => new MitsubishiLocalControl(options);\n} else {\n\t// otherwise start the instance directly\n\t(() => new MitsubishiLocalControl())();\n}\n"],
  "mappings": "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",
  "names": []
}
